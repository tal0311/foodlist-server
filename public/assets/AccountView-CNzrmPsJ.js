import{e as m,u as x,f,g as I,s as v,h as b,i as k,j as B,o as c,c as u,d as n,t as l,k as g,_ as d,l as h,r as C,a as y,w as N,m as L,n as S,q as _,F as A,v as w,x as V,y as T}from"./index-B-AM4y06.js";const E={key:0,class:"account-info"},M={__name:"AccountDetails",props:{accountId:String},setup(r){const t=m(null),e=x();function s(o){if(!o)return e.push({query:{}});e.push({query:{id:o}})}f(async()=>{I.on("copy",()=>{navigator.clipboard.writeText(t.value.passwordHash),v("Copied to clipboard")});try{setTimeout(async()=>{t.value=await b.getById(a.accountId),s(t.value._id)},1e3),v("Make sure to keep your password safe")}catch{k("Could not load account details")}}),B(()=>{s()});const a=r;return(o,i)=>t.value?(c(),u("section",E,[n("p",null,l(t.value.username),1),n("p",null,l(t.value.password),1),n("p",null,l(t.value.otherField),1)])):g("",!0)}},R=["src","alt"],D={class:"actions-container grid grid-dir-cols"},j={__name:"AccountPreview",props:{account:Object},emits:["removeAccount"],setup(r){const t=m(!1),e=r,s=h(()=>`https://cdn.jsdelivr.net/npm/simple-icons@latest/icons/${e.account.icon.toLowerCase()}.svg`);function a(o){o.target.src="https://via.placeholder.com/400"}return(o,i)=>{const p=C("RouterLink");return c(),u("article",{class:"account-preview grid",onClick:i[1]||(i[1]=$=>t.value=!t.value)},[n("h2",null,l(e.account.accountTitle),1),n("p",null,l(e.account.type||"No Type"),1),n("p",null,l(e.account.notes||"No Notes Added"),1),n("img",{src:s.value,width:"100",height:"100",alt:e.account.accountTitle,onError:a},null,40,R),n("section",D,[y(p,{class:"primary-btn",to:{name:"account-add-edit",params:{id:e.account._id}}},{default:N(()=>[L(" Edit ")]),_:1},8,["to"]),n("button",{class:"primary-btn",onClick:i[0]||(i[0]=S($=>o.$emit("removeAccount",e.account._id),["stop"]))},"Delete Account")]),t.value?(c(),_(M,{key:0,accountId:e.account._id},null,8,["accountId"])):g("",!0)])}}},q=d(j,[["__scopeId","data-v-10151841"]]),F={class:"account-list"},O={__name:"AccountList",props:{accounts:Array},emits:["removeAccount"],setup(r){const t=r;return(e,s)=>(c(),u("section",F,[(c(!0),u(A,null,w(t.accounts,a=>(c(),_(q,{key:a.id,account:a,onRemoveAccount:s[0]||(s[0]=o=>e.$emit("removeAccount",o))},null,8,["account"]))),128))]))}},P=d(O,[["__scopeId","data-v-d3631861"]]),H={},Q={class:"account-preview grid skeleton-loader"},U=V('<div class="skeleton skeleton-title" data-v-1f2f4a37></div><div class="skeleton skeleton-text" data-v-1f2f4a37></div><div class="skeleton skeleton-text" data-v-1f2f4a37></div><div class="skeleton skeleton-img" data-v-1f2f4a37></div><section class="actions-container grid grid-dir-cols" data-v-1f2f4a37><div class="skeleton skeleton-button" data-v-1f2f4a37></div><div class="skeleton skeleton-button" data-v-1f2f4a37></div></section>',5),z=[U];function G(r,t){return c(),u("article",Q,z)}const J=d(H,[["render",G],["__scopeId","data-v-1f2f4a37"]]),K={class:"account-view"},W={__name:"AccountView",setup(r){const t=T(),e=h(()=>t.getAccounts);f(()=>{s()});async function s(){try{await t.loadAccounts(),v("Accounts loaded successfully","success")}catch{k("Error loading accounts")}}function a(o){console.log("remove account",o),t.removeAccount(o)}return(o,i)=>(c(),u("section",K,[e.value?(c(),_(P,{key:0,accounts:e.value,onRemoveAccount:a},null,8,["accounts"])):(c(),u(A,{key:1},w(5,p=>y(J,{key:p})),64))]))}},Y=d(W,[["__scopeId","data-v-2a2f25a9"]]);export{Y as default};
