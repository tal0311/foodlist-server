import{_ as E,z as j,e as s,A as O,f as z,g as S,h as V,s as H,B as R,c as o,d as e,t as c,C as f,n as Y,F as x,v as I,k as B,m as i,D as u,E as U,G as h,o as d,p as Z,b as q}from"./index-B-AM4y06.js";const C=p=>(Z("data-v-d4bb6edd"),p=p(),q(),p),J={class:"add-edit-view grid"},K={class:"fields-container grid"},Q=["onUpdate:modelValue"],W=C(()=>e("thead",null,[e("tr",null,[e("th",null,"Created At"),e("th",null,"Type"),e("th",null,"Details")])],-1)),X={key:1,class:"grid"},$=C(()=>e("h2",null,"Generate Password",-1)),ee={class:"pass-fields grid"},te={for:"length"},le={for:"includeSymbols"},ae={for:"includeNumbers"},se={for:"includeUppercase"},ne={for:"includeLowercase"},oe={__name:"AccountAddView",setup(p){const L=j(),r=s(L.params.id),v=s(!0);let a=s(null);const m=s("Update Password"),y=s(8),w=s(!1),_=s(!1),g=s(!0),k=s(!0),b=s(""),A=s(null);O(()=>{v.value?m.value="Update Password":m.value="Generate Password",a.value&&(A.value=Object.keys(a.value).filter(n=>n!=="_id"&&n!=="history"))});function M(){v.value=!v.value}function N(n){return n.split(/(?=[A-Z])/).join(" ")}function P(){let n="";for(let l=0;l<y.value;l++){let t="";w.value&&(t+="!@#$%^&*()_+"),_.value&&(t+="1234567890"),g.value&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZ"),k.value&&(t+="abcdefghijklmnopqrstuvwxyz"),n+=t.charAt(Math.floor(Math.random()*t.length))}b.value=n}function G(){a.value.password=b.value}z(async()=>{S.on("main-action",async n=>{n==="save"&&(D(),console.log("account",a.value),await V.save(a.value),H("Account updated successfully"))}),S.emit("main-action","Save"),r.value?a.value=await V.getById(r.value):a.value={accountTitle:"",type:"",icon:"",history:[],username:"",otherField:"",notes:""}});function D(){a.value.history.push({id:R.makeId(),createdAt:Date.now(),type:r.value?"updated":"created",details:r.value?"account updated":"account created"})}return(n,l)=>(d(),o("section",J,[e("h2",null,c(r.value?"Update Account":"Add Account"),1),f(a)?(d(),o("form",{key:0,onSubmit:l[0]||(l[0]=Y(()=>{},["stop"])),class:""},[e("div",K,[(d(!0),o(x,null,I(A.value,(t,F)=>(d(),o("label",{key:F},[i(c(N(t))+" ",1),u(e("input",{type:"text","onUpdate:modelValue":T=>f(a)[t]=T},null,8,Q),[[U,f(a)[t]]])]))),128))]),e("table",null,[W,e("tbody",null,[(d(!0),o(x,null,I(f(a).history,t=>(d(),o("tr",{key:t.id},[e("td",null,c(t.createdAt),1),e("td",null,c(t.type),1),e("td",null,c(t.details),1)]))),128))])])],32)):B("",!0),e("button",{class:"primary-btn",onClick:M},c(m.value),1),v.value?(d(),o("section",X,[$,e("div",ee,[e("label",te,[i(" Length "),u(e("input",{type:"number",id:"length","onUpdate:modelValue":l[1]||(l[1]=t=>y.value=t)},null,512),[[U,y.value]])]),e("label",le,[i(" Include Symbols "),u(e("input",{type:"checkbox",id:"includeSymbols","onUpdate:modelValue":l[2]||(l[2]=t=>w.value=t)},null,512),[[h,w.value]])]),e("label",ae,[i(" Include Numbers "),u(e("input",{type:"checkbox",id:"includeNumbers","onUpdate:modelValue":l[3]||(l[3]=t=>_.value=t)},null,512),[[h,_.value]])]),e("label",se,[i(" Include Uppercase "),u(e("input",{type:"checkbox",id:"includeUppercase","onUpdate:modelValue":l[4]||(l[4]=t=>g.value=t)},null,512),[[h,g.value]])]),e("label",ne,[i(" Include Lowercase "),u(e("input",{type:"checkbox",id:"includeLowercase","onUpdate:modelValue":l[5]||(l[5]=t=>k.value=t)},null,512),[[h,k.value]])])]),u(e("input",{class:"pass-results",type:"text","onUpdate:modelValue":l[6]||(l[6]=t=>b.value=t),placeholder:"Your password will displayed here"},null,512),[[U,b.value]]),e("div",{class:"action-container"},[e("button",{class:"primary-btn",onClick:P},"Generate"),e("button",{class:"primary-btn",onClick:G},"Update")])])):B("",!0)]))}},de=E(oe,[["__scopeId","data-v-d4bb6edd"]]);export{de as default};
